<!--
=========================================================
* Material Kit 2 - v3.0.4
=========================================================

* Product Page:  https://www.creative-tim.com/product/material-kit 
* Copyright 2022 Creative Tim (https://www.creative-tim.com)
* Coded by www.creative-tim.com

 =========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage"
	xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="apple-touch-icon" sizes="76x76"
	href="../assets/img/apple-icon.png">
<link rel="icon" type="image/png" href="/assets/img/favicon.png">
<title>Material Kit 2 by Creative Tim</title>
<!--     Fonts and icons     -->
<link rel="stylesheet" type="text/css"
	href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
<!-- Nucleo Icons -->
<link href="/assets/css/nucleo-icons.css" rel="stylesheet" />
<link href="/assets/css/nucleo-svg.css" rel="stylesheet" />
<!-- Font Awesome Icons -->
<script src="https://kit.fontawesome.com/42d5adcbca.js"
	crossorigin="anonymous"></script>
<!-- Material Icons -->
<link
	href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
	rel="stylesheet">
<!-- CSS Files -->
<link id="pagestyle" href="/assets/css/material-kit.css?v=3.0.4"
	rel="stylesheet" />
<link id="" href="/assets/css/my.css" rel="stylesheet" />
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script th:inline="javascript">
	$(document).ready(function() {
		// 페이지 번호를 클릭했을때 감지
		// pagination 아래 a태그를 클릭 했을때

		if ($('#skintype1').text() == $('input[name=skintype]').val()) {
			$('#skintype1').css("background-color", "rgb(135,206,235)");
		} else if ($('#skintype2').text() == $('input[name=skintype]').val()) {
			$('#skintype2').css("background-color", "rgb(135,206,235)");
		} else if ($('#skintype3').text() == $('input[name=skintype]').val()) {
			$('#skintype3').css("background-color", "rgb(135,206,235)");
		}

		if ($('#ewg1').text() == $('input[name=typeEwg]').val()) {
			$('#ewg1').css("background-color", "rgb(135,206,235)");
		} else if ($('#ewg2').text() == $('input[name=typeEwg]').val()) {
			$('#ewg2').css("background-color", "rgb(135,206,235)");
		}

		$('.pagination a').click(function(e) {
			// e 는 a태그 /a태그의 동작을 삭제함
			e.preventDefault();
			var page = $(this).attr('href');
			document.frm.page.value = page; // name=frm 을 가지는 폼에 name=page인 value 값을 page 로 바꾼다
			document.frm.submit(); // 전송
		});

		$('.filter_skintype a').click(function(e) {
			console.log("filter_skintype click!!")
			e.preventDefault();

			if ($(this).css("background-color") == 'rgb(135, 206, 235)') {
				$('input[name=skintype]').attr('value', null);
			} else {
				var skintype = $(this).text();

				$('input[name=skintype]').attr('value', skintype);
			}

			document.frm.page.value = 1;
			document.frm.submit();
		});

		$('.filter_ewg a').click(function(e) {
			console.log("filter_EWG click!!")
			e.preventDefault();

			if ($(this).css("background-color") == 'rgb(135, 206, 235)') {
				$('input[name=typeEwg]').attr('value', "");
			} else {
				var ewg = $(this).text();

				$('input[name=typeEwg]').attr('value', ewg);
			}

			document.frm.page.value = 1;
			document.frm.submit();
		});

		$('#search').click(function(e) {
			e.preventDefault();
			var search = $('input[name=search]').val();

			$('input[name=keyword]').attr('value', search);
			document.frm.page.value = 1;
			document.frm.submit();
		});
	});
</script>
</head>

<body class="blog-author bg-gray-200">
	<!-- Navbar -->
	<th:block th:replace="th/header/header :: Tophd"></th:block>
	<header>
		<div class="page-header min-height-300 relative main-background-image"
			loading="lazy">
			<span class="mask bg-gradient-blue opacity-4"></span>
		</div>
	</header>


	<!-- -------- END HEADER 4 w/ search book a ticket form ------- -->
	<div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n8 mb-4">
		<!-- START Blogs w/ 4 cards w/ image & text & link -->
		<section class="py-3">
			<div class="container card py-4 ps-sm-5 px-sm-5"
				style="border-radius: 1.5rem;">
				<h2 class="mb-4 text-center">성분 검색</h2>
				<div class="row">
					<div class="col"></div>
					<div class="col-6 text-center">
						<div class="card-body-i text-center" style="width: 630px;">
							<div class="row">
								<div class="col-lg-6 text-center mx-auto">
									<div class="bg-light-s rounded rounded-pill shadow-sm mb-3">
										<form class="d-flex">
											<input class="ms-3 form-control-s" type="search"
												placeholder="Search" aria-label="Search" name="search">
											<button id="search" type="button"
												class="btn btn-link text-primary mt-1" style="margin: 0;">
												<i class="fa fa-search"></i>
											</button>
										</form>
										<div class="input-group"></div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-lg-6 w-bg-m-ingre mx-auto">
									<div class="filter_skintype" style="justify-content: center;">
										<div class="container">
											<div class="row">
												<div class="col-sm-3 my-2"
													style="color: black; font-weight: 700;">피부타입별</div>
												<div class="col-sm-8 mt-2">
													<div class="row">
														<div class="col">
															<a id="skintype1" href="#" role="button" class="w-bg-s">지성</a>
														</div>
														<div class="col">
															<a id="skintype2" href="#" role="button" class="w-bg-s">건성</a>
														</div>
														<div class="col">
															<a id="skintype3" href="#" role="button" class="w-bg-s">민감성</a>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="filter_ewg" style="justify-content: center;">
										<div class="container">
											<div class="row">
												<div class="col-sm-3 my-2"
													style="color: black; font-weight: 700;">EWG</div>
												<div class="col-sm-8 mt-2">
													<div class="row">
														<div class="col">
															<a id="ewg1" href="#" type="button" class="w-bg-s">안전</a>
														</div>
														<div class="col">
															<a id="ewg2" href="#" type="button" class="w-bg-s">보통</a>
														</div>
														<div class="col">
															<a id="ewg2" href="#" type="button" class="w-bg-s">위험</a>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col"></div>
				</div>



				<div class="container mt-5">
					<div class="row card card-body-i">
						<div class="col-lg-12 col-sm-6 px-sm-3">
							<table class="table col-lg-12 table-hover">
								<thead>
									<tr style="font-weight: 700; color: black;">
										<td scope="col" class="col-lg-6">성분이름</td>
										<td class="text-center col-lg-3" scope="col">등급</td>
										<td scope="col">배합목적</td>
									</tr>
								</thead>
								<tbody>
									<tr th:each="ingre : ${ingreList}">
										<th scope="row"><a th:text="${ingre.ingreName}"
											th:href="@{/ingreDetail(ingreCode=${ingre.ingreCode})}"></a></th>
										<td class="text-center" style="font-weight: bold;"
											th:if="${ingre.ingreEwg != 'None'}"
											th:text="${ingre.ingreEwg}"></td>
										<td class="text-center" th:if="${ingre.ingreEwg == 'None'}"
											th:text="'❌'"></td>
										<td th:text="${ingre.ingreObj}"></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>

				<form name="frm" th:action="@{/ingreList.do}" method="post">
					<ul class="pagination pagination-info justify-content-center mt-4">
						<li class="page-item" th:if="${pageMaker.prev}"><a
							class="page-link" th:href="@{${pageMaker.startPage-1}}"
							aria-label="Previous"> <span aria-hidden="true"><i
									class="ni ni-bold-left" aria-hidden="true"></i></span>
						</a></li>
						<th:block
							th:each="pageNum:${#numbers.sequence(pageMaker.startPage,pageMaker.endPage)}">
							<li class="page-item active"
								th:if="${pageMaker.cri.page == pageNum}"><a
								class="page-link" th:href="@{${pageNum}}" th:text="${pageNum}"></a></li>
							<li class="page-item"
								th:unless="${pageMaker.cri.page == pageNum}"><a
								class="page-link" th:href="@{${pageNum}}" th:text="${pageNum}"></a>
							</li>
						</th:block>
						<li class="page-item" th:if="${pageMaker.next}"><a
							class="page-link" th:href="@{${pageMaker.endPage+1}}"
							aria-label="Next"> <span aria-hidden="true"><i
									class="ni ni-bold-right" aria-hidden="true"></i></span>
						</a></li>
					</ul>
					<input type="hidden" name="page" th:value="${pageMaker.cri.page}">
					<input type="hidden" name="skintype"
						th:value="${pageMaker.cri.skintype}"> <input type="hidden"
						name="typeEwg" th:value="${pageMaker.cri.typeEwg}"> <input
						type="hidden" name="keyword" th:value="${pageMaker.cri.keyword}">
				</form>
			</div>
		</section>
		<!-- END Blogs w/ 4 cards w/ image & text & link -->
	</div>

	<!-- -------- START FOOTER 5 w/ DARK BACKGROUND ------- -->
	<!-- start footer -->
	<th:block th:replace="th/header/footer :: Botft"></th:block>
	<!-- end footer -->
	<!-- -------- END FOOTER 5 w/ DARK BACKGROUND ------- -->
	<!--   Core JS Files   -->
	<script src="/assets/js/core/popper.min.js" type="text/javascript"></script>
	<script src="/assets/js/core/bootstrap.min.js" type="text/javascript"></script>
	<script src="/assets/js/plugins/perfect-scrollbar.min.js"></script>
	<!--  Plugin for Parallax, full documentation here: https://github.com/wagerfield/parallax  -->
	<script src="/assets/js/plugins/parallax.min.js"></script>
	<!-- Control Center for Material UI Kit: parallax effects, scripts for the example pages etc -->
	<!--  Google Maps Plugin    -->
	<script
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTTfWur0PDbZWPr7Pmq8K3jiDp0_xUziI"></script>
	<script src="/assets/js/material-kit.min.js?v=3.0.4"
		type="text/javascript"></script>
</body>

</html>